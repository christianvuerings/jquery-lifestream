<div class="cc-widget" data-ng-controller="MyClassesController">
  <div class="cc-widget-title">
    <h2>My Classes <span class="cc-widget-title-sub cc-right"><%= Settings.sakai_proxy.current_terms.first %></span></h2>
  </div>
  <div data-cc-spinner-directive>
    <ul class="cc-widget-list">
      <li data-ng-repeat="(id, class) in allClasses"
      data-ng-class="{'cc-widget-list-selected': class._show}">
        <div class="cc-widget-list-hover"
        data-cc-accessible-focus-directive
        data-ng-click="api.widget.toggleShow(allClasses, class, 'My Classes')">
          <strong class="cc-ellipsis" data-ng-bind="class.course_code"></strong>
          <div class="cc-ellipsis cc-widget-list-light" data-ng-show="!!class.name" data-ng-bind="class.name"></div>
          <div data-ng-show="class._show">
          <ul class="cc-widget-sublist">
            <li data-ng-repeat="subclass in class.subclasses">
              <div
                class="cc-icon"
                data-ng-class="{
                  'bSpace':'cc-icon-bspace',
                  'Canvas':'cc-icon-canvas'
                }
                [subclass.emitter]">
              </div>
              <strong><a class="cc-ellipsis" data-ng-bind="subclass.name" data-ng-href="{{subclass.site_url}}"></a></strong>
            </li>
          </ul>
          <a class="cc-widget-sublist-extra" data-ng-click="api.analytics.trackExternalLink('My Classes', class.emitter, class.site_url)"
            data-ng-href="{{class.site_url}}">
            <strong>Class details</strong>
          </a>
        </div>
      </li>
    </ul>
    <div data-ng-show="!allClassesLength" class="cc-widget-text">
      There are currently no classes available.
    </div>
  </div>
</div>
